{"version":3,"sources":["Patient.js","images/location.png","images/tracker.png","StaticPatient.js","App.js","index.js"],"names":["rxnorm","MedRow","med","name","out","coding","find","c","system","display","getMedicationName","getPath","status","intent","Patient","patient","meds","console","log","className","style","padding","map","id","theme","global","font","family","size","height","StaticPatient","Grommet","full","Main","pad","Box","direction","gap","basis","Card","CardBody","Heading","margin","level","Paragraph","maxLines","bottom","wrap","width","Tag","value","Tabs","justify","Tab","title","Image","fit","src","LocationImg","fill","TrackerImg","App","sessionStorage","clear","rootElement","document","getElementById","SMART","init","clientId","scope","pkceMode","fullSessionStorageSupport","completeInTarget","then","client","Promise","all","read","catch","err","request","render","error","undefined"],"mappings":"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","file":"static/js/main.ee6295ed.chunk.js","sourcesContent":["import * as React from \"react\";\nimport { getPath } from \"fhirclient/lib/lib\";\nimport { PatientVisualizer } from 'fhir-visualizers';\n\nconst rxnorm = \"http://www.nlm.nih.gov/research/umls/rxnorm\";\n\nfunction getMedicationName(medCodings = []) {\n  let out = \"Unnamed Medication(TM)\";\n  const coding = medCodings.find((c) => c.system === rxnorm);\n  if (coding && coding.display) {\n    out = coding.display;\n  }\n  return out;\n}\n\nfunction PatientName({ name = [] }) {\n  let entry =\n    name.find((nameRecord) => nameRecord.use === \"official\") || name[0];\n  if (!entry) {\n    return <h1>No Name</h1>;\n  }\n  return <h1>{entry.given.join(\" \") + \" \" + entry.family}</h1>;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction PatientBanner(patient) {\n  return (\n    <div>\n      <PatientName name={patient.name} />\n      <span>\n        Gender: <b>{patient.gender}</b>,{\" \"}\n      </span>\n      <span>\n        DOB: <b>{patient.birthDate}</b>\n      </span>\n    </div>\n  );\n}\n\nfunction MedRow({ med }) {\n  const name = getMedicationName(\n    getPath(med, \"medicationCodeableConcept.coding\") ||\n    getPath(med, \"medicationReference.code.coding\")\n  );\n  return (\n    <tr>\n      <td>\n        <b>{name}</b>\n      </td>\n      <td>{med.status || \"-\"}</td>\n      <td>{med.intent || \"-\"}</td>\n      <td>{getPath(med, \"dosageInstruction.0.text\") || \"-\"}</td>\n    </tr>\n  );\n}\n\nfunction Patient({\n  patient,\n  meds,\n}) {\n  console.log(patient);\n  return (\n    <div className=\"App\" style={{ padding: '20px' }}>\n      {patient ? <PatientVisualizer patient={patient} /> : <></>}\n      <hr />\n      {meds ? <table className=\"table table-hover\">\n        <thead>\n          <tr>\n            <th>Medication</th>\n            <th>Status</th>\n            <th>Intent</th>\n            <th>Dosage Instruction</th>\n          </tr>\n        </thead>\n        <tbody>\n          {meds.map((med) => (\n            <MedRow key={med.id} med={med} />\n          ))}\n        </tbody>\n      </table> : <></>}\n    </div>\n  );\n}\n\nexport default Patient;","export default __webpack_public_path__ + \"static/media/location.8fd9cd85.png\";","export default __webpack_public_path__ + \"static/media/tracker.1543b769.png\";","import React from 'react';\nimport {\n\tAvatar,\n\tGrommet,\n\tMain,\n\tHeading,\n\tParagraph,\n\tCard,\n\tCardBody,\n\tImage,\n\tBox,\n\tTag,\n\tTabs,\n\tTab\n} from 'grommet';\nimport LocationImg from './images/location.png';\nimport TrackerImg from './images/tracker.png';\nimport ProfileImg from \"./images/profile.jpeg\";\n\nconst theme = {\n  global: {\n    font: {\n      family: \"Roboto\",\n      size: \"18px\",\n      height: \"20px\",\n    },\n  },\n};\n\n// Weight\n// Race\n// White\n// Ethnicity\n// Not Hispanic or Latino\n// Language\n// English\n// Blood Type\n// unknown\n\nfunction StaticPatient() {\n  return (\n    <Grommet theme={theme} full>\n      {/* <ResponsiveContext.Consumer> */}\n      <Main pad=\"medium\">\n        <Box\n          direction=\"column\"\n          // border={{ color: 'brand', size: 'large' }}\n          pad=\"none\"\n          gap=\"small\"\n          height=\"full\"\n        >\n          <Box\n            direction=\"row\"\n            // border={{ color: 'brand', size: 'large' }}\n            pad=\"small\"\n            gap=\"medium\"\n            height=\"small\"\n          >\n            {/* <Box pad=\"none\" justify=\"center\">\n              <Card height=\"small\">\n                <CardBody pad=\"small\" justify=\"center\">\n                  <Avatar\n                    style={{ height: \"140px\", width: \"140px\" }}\n                    src=\"data:image/jpeg;base64,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\"\n                  />\n                </CardBody>\n              </Card>\n            </Box> */}\n\n            <Box pad=\"none\" direction=\"column\" basis=\"full\">\n              <Card height=\"small\">\n                <CardBody pad=\"small\">\n                  <Heading margin=\"none\" level={4}>\n                    Jake Medlock\n                  </Heading>\n                  <Paragraph\n                    maxLines={2}\n                    size=\"small\"\n                    margin={{ bottom: \"xsmall\" }}\n                  >\n                    10 Cactus Drive, Los Angeles, CA 90001\n                  </Paragraph>\n                  <Box direction=\"row\" gap=\"xsmall\" wrap={true} width=\"xxlarge\">\n                    <Tag size=\"xsmall\" name=\"Gender\" value=\"M\" />\n                    <Tag size=\"xsmall\" name=\"DOB\" value=\"XXXX-XX-XX\" />\n                    <Tag size=\"xsmall\" name=\"Height\" value=\"6 Ft\" />\n                    <Tag size=\"xsmall\" name=\"Weight\" value=\"187 lbs\" />\n                    <Tag size=\"xsmall\" name=\"Blood type\" value=\"O+\" />\n                  </Box>\n                </CardBody>\n              </Card>\n            </Box>\n          </Box>\n          <Box\n            direction=\"row\"\n            // border={{ color: 'brand', size: 'large' }}\n            pad=\"small\"\n            width=\"full\"\n            height=\"full\"\n            // background='dark-3'\n          >\n            <Card basis=\"full\" height={\"3/4\"}>\n              <CardBody pad={\"small\"}>\n                <Tabs justify=\"start\" basis=\"full\">\n                  <Tab title=\"Pain Body Location Map\">\n                    <Box pad=\"medium\" height={\"full\"}>\n                      <Image fit=\"contain\" src={LocationImg} />\n                    </Box>\n                  </Tab>\n                  <Tab title=\"Pain Tracker\">\n                    <Box pad=\"medium\" height={\"full\"}>\n                      <Image fit=\"contain\" fill src={TrackerImg} />\n                    </Box>\n                  </Tab>\n                </Tabs>\n              </CardBody>\n            </Card>\n          </Box>\n        </Box>\n      </Main>\n      {/* </ResponsiveContext.Consumer> */}\n    </Grommet>\n  );\n}\n\nexport default StaticPatient;","import * as React from \"react\";\nimport Patient from './Patient'\nimport StaticPatient from './StaticPatient';\n\n\nfunction App({ patient, meds }) {\n  sessionStorage.clear()\n\n  if (!(patient)) console.log('Rendering Static App');\n  if (patient) return <Patient patient={patient} meds ={meds}/>;\n  else return <StaticPatient/>\n}\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\n// import { oauth2 as SMART } from \"fhirclient\";\nimport { oauth2 as SMART } from 'fhirclient-pkce';\n\nconst rootElement = document.getElementById('root');\n\nSMART.init({\n    // iss: \"https://r4.smarthealthit.org\",\n    // iss: \"https://api.platform.athenahealth.com/432/brand/2/csg/12/fhir/r4\",\n    // redirectUri: \"index.html\",\n    // clientId: \"0oae0chrocZumXh7y297\",  // Internal AMS\n    clientId: \"0oae3i5p2p4ikNR4C297\",     // External AMS\n    scope: \"launch offline_access openid fhirUser user/MedicationRequest.read user/Patient.read user/Observation.read\",\n    pkceMode: \"required\",\n    fullSessionStorageSupport: false,\n\n    // WARNING: completeInTarget=true is needed to make this work in the codesandbox\n    // frame. It is otherwise not needed if the target is not another frame or window\n    // but since the entire example works in a frame here, it gets confused without\n    // setting this!\n    completeInTarget: true\n    \n})\n    .then(client => {\n        // Fetch MedicationRequest and Patient in parallel to load the app faster\n        // console.log(\"client.patient => \", client.patient);\n        return Promise.all([\n            client.patient.read()\n                .catch(function(err){\n                    console.log(err);\n                    return undefined;\n                }),\n            client.patient.request(\"MedicationRequest\")\n                .catch(function(err){\n                    console.log(err);\n                    return undefined;\n                }),\n            // client.request(`/MedicationRequest?patient=${client.patient.id}`, {\n            //     resolveReferences: \"medicationReference\",\n            //     pageLimit: 0,\n            //     flat: true\n            // }),\n        ]);\n    })\n    .then(\n        ([\n            patient, \n            meds\n        ]) => {\n            render(<App \n                patient={patient} \n                meds={meds}\n            />, rootElement);\n        },\n        error => {\n            console.error(error);\n            render(<App \n                patient={undefined} \n                meds={undefined}\n            />, rootElement);\n        }\n    );\n"],"sourceRoot":""}