{"version":3,"sources":["Patient.js","StaticPatient.js","App.js","index.js"],"names":["rxnorm","MedRow","med","name","out","coding","find","c","system","display","getMedicationName","getPath","status","intent","Patient","patient","meds","console","log","className","style","padding","map","id","theme","global","font","family","size","height","StaticPatient","Grommet","full","Main","pad","Box","direction","border","color","gap","justify","Avatar","src","width","Heading","margin","level","Paragraph","maxLines","bottom","wrap","Tag","value","background","App","rootElement","document","getElementById","SMART","init","clientId","scope","pkceMode","completeInTarget","then","client","Promise","all","read","request","resolveReferences","pageLimit","flat","render","error","undefined"],"mappings":"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","file":"static/js/main.ed40b102.chunk.js","sourcesContent":["import * as React from \"react\";\nimport { getPath } from \"fhirclient/lib/lib\";\nimport { PatientVisualizer } from 'fhir-visualizers';\n\nconst rxnorm = \"http://www.nlm.nih.gov/research/umls/rxnorm\";\n\nfunction getMedicationName(medCodings = []) {\n  let out = \"Unnamed Medication(TM)\";\n  const coding = medCodings.find((c) => c.system === rxnorm);\n  if (coding && coding.display) {\n    out = coding.display;\n  }\n  return out;\n}\n\nfunction PatientName({ name = [] }) {\n  let entry =\n    name.find((nameRecord) => nameRecord.use === \"official\") || name[0];\n  if (!entry) {\n    return <h1>No Name</h1>;\n  }\n  return <h1>{entry.given.join(\" \") + \" \" + entry.family}</h1>;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction PatientBanner(patient) {\n  return (\n    <div>\n      <PatientName name={patient.name} />\n      <span>\n        Gender: <b>{patient.gender}</b>,{\" \"}\n      </span>\n      <span>\n        DOB: <b>{patient.birthDate}</b>\n      </span>\n    </div>\n  );\n}\n\nfunction MedRow({ med }) {\n  const name = getMedicationName(\n    getPath(med, \"medicationCodeableConcept.coding\") ||\n      getPath(med, \"medicationReference.code.coding\")\n  );\n  return (\n    <tr>\n      <td>\n        <b>{name}</b>\n      </td>\n      <td>{med.status || \"-\"}</td>\n      <td>{med.intent || \"-\"}</td>\n      <td>{getPath(med, \"dosageInstruction.0.text\") || \"-\"}</td>\n    </tr>\n  );\n}\n\nfunction Patient({ \n\tpatient, \n\tmeds, \n  }) {\n\tconsole.log(patient);\n\treturn (\n\t  <div className=\"App\" style={{padding: '20px'}}>\n\t\t{patient ? <PatientVisualizer patient={patient} /> : <h1>Loading</h1>}\n\t\t<hr/>\n  \n\t\t<table className=\"table table-hover\">\n\t\t  <thead>\n\t\t\t<tr>\n\t\t\t  <th>Medication</th>\n\t\t\t  <th>Status</th>\n\t\t\t  <th>Intent</th>\n\t\t\t  <th>Dosage Instruction</th>\n\t\t\t</tr>\n\t\t  </thead>\n\t\t  <tbody>\n\t\t\t{meds.map((med) => (\n\t\t\t  <MedRow key={med.id} med={med} />\n\t\t\t))}\n\t\t  </tbody>\n\t\t</table>\n\t  </div>\n\t);\n  }\n  \n  export default Patient;","import React, { useState } from 'react';\nimport {\n\tSidebar,\n\tAvatar,\n\tButton,\n\tNav,\n\tGrommet,\n\tResponsiveContext,\n\tMain,\n\tHeading,\n\tParagraph,\n\tCard,\n\tCardBody,\n\tCardHeader,\n\tCardFooter,\n\tGrid,\n\tBox,\n\tTag\n} from 'grommet';\nimport * as Icons from 'grommet-icons';\n\nconst theme = {\n\tglobal: {\n\t\tfont: {\n\t\t\tfamily: 'Roboto',\n\t\t\tsize: '18px',\n\t\t\theight: '20px',\n\t\t},\n\t},\n};\n\n// Weight\n// Race\n// White\n// Ethnicity\n// Not Hispanic or Latino\n// Language\n// English\n// Blood Type\n// unknown\n\nfunction StaticPatient() {\n\treturn <Grommet theme={theme} full>\n\t\t{/* <ResponsiveContext.Consumer> */}\n\t\t<Main pad=\"medium\">\n\t\t\t<Box\n\t\t\t\tdirection=\"row\"\n\t\t\t\tborder={{ color: 'brand', size: 'large' }}\n\t\t\t\tpad=\"medium\"\n\t\t\t\tgap='small'\n\t\t\t\theight='small'\n\t\t\t>\n\t\t\t\t<Box pad=\"small\" justify='center'>\n\t\t\t\t\t<Avatar size='xlarge' src=\"//s.gravatar.com/avatar/b7fb138d53ba0f573212ccce38a7c43b?\" />\n\t\t\t\t</Box>\n\t\t\t\t<Box pad=\"small\" direction='column' width='large'>\n\t\t\t\t\t<Heading margin='none' level={4}>Wendy Little</Heading>\n\t\t\t\t\t<Paragraph maxLines={2} size='small' margin={{bottom: 'xsmall'}}>418 Kohler Crossroad Unit 74, Medford, Massachusetts, 02145</Paragraph>\n\t\t\t\t\t<Box direction='row' gap='xsmall' wrap={true} width='xxlarge'>\n\t\t\t\t\t\t<Tag size='xsmall' name=\"Gender\" value=\"F\" />\n\t\t\t\t\t\t<Tag size='xsmall' name=\"DOB\" value=\"2000-11-15\" />\n\t\t\t\t\t\t<Tag size='xsmall' name=\"Height\" value=\"153cm\" />\n\t\t\t\t\t\t<Tag size='xsmall' name=\"Weight\" value=\"130lbs\" />\n\t\t\t\t\t\t<Tag size='xsmall' name=\"Blood type\" value=\"O +\" />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tdirection=\"row\"\n\t\t\t\tborder={{ color: 'brand', size: 'large' }}\n\t\t\t\tpad=\"medium\"\n\t\t\t\tgap='small'\n\t\t\t\theight='medium'\n\t\t\t>\n\t\t\t\t<Box pad=\"small\" justify='center' background='light-4' width='large'>\n\t\t\t\t\t\n\t\t\t\t</Box>\n\t\t\t\t<Box pad=\"small\" direction='column' background='light-3' width='medium'>\n\t\t\t\t\t\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Main>\n\t\t{/* </ResponsiveContext.Consumer> */}\n\t</Grommet>\n}\n\nexport default StaticPatient;","import * as React from \"react\";\nimport Patient from './Patient'\nimport StaticPatient from './StaticPatient';\n\n\nfunction App({ patient, meds }) {\n  if (!(patient && meds)) console.log('Rendering Static App');\n  if (patient && meds) return <Patient patient={patient} meds ={meds}/>;\n  else return <StaticPatient/>\n}\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\n// import { oauth2 as SMART } from \"fhirclient\";\nimport { oauth2 as SMART } from 'fhirclient-pkce';\n\nconst rootElement = document.getElementById('root');\n\nSMART.init({\n    // iss: \"https://r4.smarthealthit.org\",\n    // iss: \"https://api.platform.athenahealth.com/432/brand/2/csg/12/fhir/r4\",\n    // redirectUri: \"index.html\",\n    // clientId: \"0oae0chrocZumXh7y297\",  // Internal AMS\n    clientId: \"0oae3i5p2p4ikNR4C297\",     // External AMS\n    scope: \"launch offline_access openid fhirUser\",\n    pkceMode: \"required\",\n\n    // WARNING: completeInTarget=true is needed to make this work in the codesandbox\n    // frame. It is otherwise not needed if the target is not another frame or window\n    // but since the entire example works in a frame here, it gets confused without\n    // setting this!\n    completeInTarget: true\n})\n    .then(client => {\n        // Fetch MedicationRequest and Patient in parallel to load the app faster\n        return Promise.all([\n            client.patient.read(),\n            client.request(`/MedicationRequest?patient=${client.patient.id}`, {\n                resolveReferences: \"medicationReference\",\n                pageLimit: 0,\n                flat: true\n            }),\n        ]);\n    })\n    .then(\n        ([patient, meds]) => {\n            render(<App \n                patient={patient} \n                meds={meds}\n            />, rootElement);\n        },\n        error => {\n            console.error(error);\n            render(<App \n                patient={undefined} \n                meds={undefined}\n            />, rootElement);\n        }\n    );\n"],"sourceRoot":""}