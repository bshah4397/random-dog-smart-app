(this["webpackJsonprandom-dog-smart-app"]=this["webpackJsonprandom-dog-smart-app"]||[]).push([[0],{244:function(e,t,n){},318:function(e,t){},320:function(e,t){},330:function(e,t){},332:function(e,t){},357:function(e,t){},359:function(e,t){},360:function(e,t){},365:function(e,t){},367:function(e,t){},386:function(e,t){},398:function(e,t){},401:function(e,t){},407:function(e,t,n){"use strict";n.r(t);var o=n(37),i=n(0),s=n(64),c=(n(244),n(245),n(84)),r=n(214),d=n(3),a="http://www.nlm.nih.gov/research/umls/rxnorm";function p(e){var t=e.med,n=function(){var e="Unnamed Medication(TM)",t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((function(e){return e.system===a}));return t&&t.display&&(e=t.display),e}(Object(c.getPath)(t,"medicationCodeableConcept.coding")||Object(c.getPath)(t,"medicationReference.code.coding"));return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("b",{children:n})}),Object(d.jsx)("td",{children:t.status||"-"}),Object(d.jsx)("td",{children:t.intent||"-"}),Object(d.jsx)("td",{children:Object(c.getPath)(t,"dosageInstruction.0.text")||"-"})]})}var u=function(e){var t=e.patient,n=e.meds;return console.log(t),Object(d.jsxs)("div",{className:"App",style:{padding:"20px"},children:[t?Object(d.jsx)(r.a,{patient:t}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)("hr",{}),n?Object(d.jsxs)("table",{className:"table table-hover",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Medication"}),Object(d.jsx)("th",{children:"Status"}),Object(d.jsx)("th",{children:"Intent"}),Object(d.jsx)("th",{children:"Dosage Instruction"})]})}),Object(d.jsx)("tbody",{children:n.map((function(e){return Object(d.jsx)(p,{med:e},e.id)}))})]}):Object(d.jsx)(d.Fragment,{})]})};n(424),n(418),n(132),n(420),n(421),n(425),n(427),n(428),n(429),n(430),n(431),n(432),n.p,n.p;function l(){var e=function(e){window.parent.postMessage({type:"embeddedAppAPIMessage",method:"appResize",methodVersion:"1.0.0",newWidth:e},"*")};return Object(d.jsxs)("div",{style:{padding:"20px"},children:[Object(d.jsxs)("div",{style:{marginBottom:"20px"},children:[Object(d.jsx)("button",{type:"button",onClick:function(){window.parent.postMessage({type:"embeddedAppAPIMessage",method:"notifyPatientDataChange",methodVersion:"1.0.0"},"*")},children:"Refresh aOne"}),Object(d.jsx)("button",{type:"button",onClick:function(){console.log("Sending message from our test fake iframe"),window.parent.postMessage({type:"embeddedAppAPIMessage",method:"appMinimize",methodVersion:"1.0.0"},"*")},children:"Minimize"}),Object(d.jsx)("button",{type:"button",onClick:function(){window.setTimeout((function(){window.parent.postMessage({type:"embeddedAppAPIMessage",method:"appReopen",methodVersion:"1.0.0"},"*")}),3e3)},children:"Reopen in 3 seconds"}),Object(d.jsx)("button",{type:"button",onClick:function(){window.parent.postMessage({type:"embeddedAppAPIMessage",method:"appClose",methodVersion:"1.0.0"},"*")},children:"Close"}),Object(d.jsx)("button",{type:"button",onClick:function(){window.parent.postMessage({type:"embeddedAppAPIMessage",method:"appEnterFullscreen",methodVersion:"1.0.0"},"*")},children:"Enter FullScreen"}),Object(d.jsx)("button",{type:"button",onClick:function(){window.parent.postMessage({type:"embeddedAppAPIMessage",method:"appExitFullscreen",methodVersion:"1.0.0"},"*")},children:"Exit FullScreen"}),Object(d.jsx)("button",{type:"button",onClick:function(){window.parent.postMessage({type:"embeddedAppAPIMessage",method:"appPopout",methodVersion:"1.0.0"},"*")},children:"Popout"}),Object(d.jsx)("button",{type:"button",onClick:function(){window.parent.postMessage({type:"embeddedAppAPIMessage",method:"appPopin",methodVersion:"1.0.0"},"*")},children:"Popin"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{type:"button",onClick:function(){return e("50")},children:"50px"}),Object(d.jsx)("button",{type:"button",onClick:function(){return e("100")},children:"100px"}),Object(d.jsx)("button",{type:"button",onClick:function(){return e("200")},children:"200px"}),Object(d.jsx)("button",{type:"button",onClick:function(){return e("400")},children:"400px"}),Object(d.jsx)("button",{type:"button",onClick:function(){return e("600")},children:"600px"}),Object(d.jsx)("button",{type:"button",onClick:function(){return e("800")},children:"800px"}),Object(d.jsx)("button",{type:"button",onClick:function(){return e("default")},children:"default"})]})]})}function b(){var e=Object(i.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(i.useEffect)((function(){var e=function(e){console.log(e);var t={timestamp:e.timeStamp,data:e.data};s((function(e){return e+JSON.stringify(t,null,2)+"\n\n"}))};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}}),[]),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{style:{marginTop:"20px",padding:"20px"},children:[Object(d.jsx)("h3",{children:"Messages:"}),Object(d.jsx)("pre",{id:"messages",style:{backgroundColor:"#f5f5f5",padding:"10px",maxHeight:"500px",overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word"},children:n})]})})}var j=function(e){var t=e.patient,n=e.meds;return sessionStorage.clear(),t||console.log("Rendering Static App"),t?Object(d.jsx)(u,{patient:t,meds:n}):Object(d.jsxs)("div",{children:[Object(d.jsx)(l,{}),Object(d.jsx)("hr",{}),Object(d.jsx)("button",{onClick:function(){var e={type:"embeddedAppAPIMessage",method:"notifyPatientDataChange",methodVersion:"1.0.0"},t="*";if(window.parent&&window.parent!==window&&(console.log("(From the App) (window.parent.postMessage) Sending the following message to (".concat(t,") :=> "),e),window.parent.postMessage(e,t)),window.opener)try{console.log("(From the App) (window.opener.postMessage) Sending the following message to (".concat(t,") :=> "),e),window.opener.postMessage(e,t)}catch(n){console.error("AppContent: Error posting message to window.opener",n instanceof Error?n:new Error(String(n)),{targetOrigin:t})}},children:" Refresh Patient - Blackbird code "}),Object(d.jsx)("button",{onClick:function(){console.log("(From the App) (window.parent.postMessage) Sending the following message to (*}) :=> ",{type:"embeddedAppAPIMessage",method:"notifyPatientDataChange",methodVersion:"1.0.0"}),window.parent.postMessage({type:"embeddedAppAPIMessage",method:"notifyPatientDataChange",methodVersion:"1.0.0"},"*")},children:" Refresh Patient - Our code "}),Object(d.jsx)("br",{}),Object(d.jsx)("hr",{}),Object(d.jsx)(b,{})]})},h=n(234),m=document.getElementById("root");h.oauth2.init({clientId:"0oae3i5p2p4ikNR4C297",scope:"launch offline_access openid fhirUser user/MedicationRequest.read user/Patient.read user/Observation.read",pkceMode:"required",fullSessionStorageSupport:!1,completeInTarget:!0}).then((function(e){return Promise.all([e.patient.read().catch((function(e){console.log(e)})),e.patient.request("MedicationRequest").catch((function(e){console.log(e)}))])})).then((function(e){var t=Object(o.a)(e,2),n=t[0],i=t[1];Object(s.render)(Object(d.jsx)(j,{patient:n,meds:i}),m)}),(function(e){console.error(e),Object(s.render)(Object(d.jsx)(j,{patient:void 0,meds:void 0}),m)}))}},[[407,1,2]]]);
//# sourceMappingURL=main.5022e384.chunk.js.map